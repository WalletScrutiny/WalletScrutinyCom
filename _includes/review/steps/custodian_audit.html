{% assign custodian = include.custodian %}
<div class="step developer">
  <i class="fa fa-server circle storage"></i>
  <div class="title">
    <h3>Do they publish their hot wallet and cold storage design and processes?</h3>
    <div class="textbox">
      <div class="status {% if custodian.hotColdDesign.published %}published{% else %}not-published{% endif %}">
        {% if custodian.hotColdDesign.published %}
          <i class="fas fa-check"></i> Design Published
        {% else %}
          <i class="fas fa-times"></i> Design Not Published
        {% endif %}
      </div>
      <div class="last-updated">Last Updated: {{ custodian.hotColdDesign.lastUpdated }}</div>
      <div class="details">{{ custodian.hotColdDesign.details }}</div>
      {% if custodian.hotColdDesign.documentation_url %}
        <a href="{{ custodian.hotColdDesign.documentation_url }}" class="docs-link">
          <i class="fas fa-external-link-alt"></i> View Documentation
        </a>
      {% endif %}
    </div>
  </div>
</div>

<div class="step developer">
  <i class="fab fa-bitcoin circle bitcoin"></i>
  <div class="title">
    <h3>Is it bitcoin-only/bitcoin-optimized?</h3>
    <div class="textbox">
      <div class="bitcoin-status">
        {% if custodian.bitcoinFocus.bitcoinOnly %}
          <span class="badge bitcoin-only">Bitcoin Only</span>
        {% elsif custodian.bitcoinFocus.bitcoinOptimized %}
          <span class="badge bitcoin-optimized">Bitcoin Optimized</span>
        {% endif %}
      </div>
      <div class="supported-assets">
        <h4>Supported Assets</h4>
        <ul>
          {% for asset in custodian.bitcoinFocus.supportedAssets %}
            <li>{{ asset }}</li>
          {% endfor %}
        </ul>
      </div>
      <div class="bitcoin-features">
        <h4>Bitcoin Features</h4>
        <ul>
          {% for feature in custodian.bitcoinFocus.bitcoinFeatures %}
            <li>{{ feature }}</li>
          {% endfor %}
        </ul>
      </div>
      <div class="details">{{ custodian.bitcoinFocus.details }}</div>
    </div>
  </div>
</div>

<div class="step developer">
  <i class="fas fa-file-alt circle reserves"></i>
  <div class="title">
    <h3>Do they provide proof of reserves?</h3>
    <div class="textbox">
      <div class="status {% if custodian.proofOfReserves.supported %}supported{% else %}not-supported{% endif %}">
        {% if custodian.proofOfReserves.supported %}
          <i class="fas fa-check"></i> Supported
          <div class="frequency">Updated {{ custodian.proofOfReserves.frequency }}</div>
          <div class="last-proof">Last Proof: {{ custodian.proofOfReserves.lastProof }}</div>
        {% else %}
          <i class="fas fa-times"></i> Not Supported
        {% endif %}
      </div>
      {% if custodian.proofOfReserves.verificationUrl %}
        <a href="{{ custodian.proofOfReserves.verificationUrl }}" class="verify-link">
          <i class="fas fa-external-link-alt"></i> Verify Reserves
        </a>
      {% endif %}
      <div class="details">{{ custodian.proofOfReserves.details }}</div>
    </div>
  </div>
</div>

<div class="step developer">
  <i class="fas fa-globe circle leadership"></i>
  <div class="title">
    <h3>Where is the company located and who are the key team members?</h3>
    <div class="textbox">
      <div class="jurisdiction">
        <strong>Jurisdiction:</strong> {{ custodian.leadership.jurisdiction }}
      </div>
      <div class="years">
        <strong>Years in Business:</strong> {{ custodian.leadership.yearsInBusiness }}
      </div>
      <div class="team">
        <h4>Leadership Team</h4>
        <ul>
          {% for member in custodian.leadership.team %}
            <li>{{ member.name }} - {{ member.role }} ({{ member.location }})</li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="step developer">
  <i class="fas fa-cogs circle operations"></i>
  <div class="title">
    <h3>What is the operational history and incident track record?</h3>
    <div class="textbox">
      <div class="btc-custodied">
        <strong>BTC in Custody:</strong> {{ custodian.operations.btcCustodied }}
      </div>
      <div class="track-record">
        <h4>Incident History</h4>
        <div class="last-incident">Last Incident: {{ custodian.operations.trackRecord.lastIncident }}</div>
        <div class="history">{{ custodian.operations.trackRecord.incidentHistory }}</div>
      </div>
    </div>
  </div>
</div>

<div class="step developer">
  <i class="fas fa-briefcase circle business"></i>
  <div class="title">
    <h3>What is the business model and revenue stream?</h3>
    <div class="textbox">
      <div class="services">
        <h4>Services Offered</h4>
        <ul>
          {% for service in custodian.businessModel.services %}
            <li>{{ service }}</li>
          {% endfor %}
        </ul>
      </div>
      <div class="restrictions">
        <h4>Restricted Countries</h4>
        <ul>
          {% for country in custodian.businessModel.restrictedCountries %}
            <li>{{ country }}</li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="step developer">
  <i class="fab fa-bitcoin circle ecosystem"></i>
  <div class="title">
    <h3>What is the contribution to the Bitcoin ecosystem?</h3>
    <div class="textbox">
      <div class="contributions">
        <ul>
          <li class="{% if custodian.bitcoinContribution.fossDevelopment %}active{% endif %}">
            FOSS Development
          </li>
          <li class="{% if custodian.bitcoinContribution.protocolSupport %}active{% endif %}">
            Protocol Support
          </li>
          <li class="{% if custodian.bitcoinContribution.research %}active{% endif %}">
            Research
          </li>
        </ul>
      </div>
      <div class="details">{{ custodian.bitcoinContribution.details }}</div>
    </div>
  </div>
</div>

<div class="step developer">
  <i class="fas fa-user-circle circle access"></i>
  <div class="title">
    <h3>What are the user access requirements and restrictions?</h3>
    <div class="textbox">
      <div class="kyc">
        <strong>KYC Required:</strong> {{ custodian.userAccess.kycRequired }}
        {% if custodian.userAccess.kycRequired %}
          <div class="kyc-level">Level: {{ custodian.userAccess.kycLevel }}</div>
        {% endif %}
      </div>
      <div class="limits">
        <h4>Withdrawal Limits</h4>
        <ul>
          <li>Daily: {{ custodian.userAccess.withdrawalLimits.daily }}</li>
          <li>Monthly: {{ custodian.userAccess.withdrawalLimits.monthly }}</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="step developer">
  <i class="fas fa-lock circle security"></i>
  <div class="title">
    <h3>What are the security features and measures in place?</h3>
    <div class="textbox">
      <div class="features">
        <ul>
          {% for feature in custodian.security.features %}
            <li>{{ feature }}</li>
          {% endfor %}
        </ul>
      </div>
      <div class="infrastructure">
        <strong>Custom Infrastructure:</strong> 
        {% if custodian.security.customInfrastructure %}
          Yes
        {% else %}
          No (Outsourced)
        {% endif %}
      </div>
      <div class="details">{{ custodian.security.details }}</div>
    </div>
  </div>
</div>
